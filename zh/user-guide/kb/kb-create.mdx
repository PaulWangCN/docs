---
title: 创建知识库
icon: "square-plus"
---

在清奇领航平台中，创建知识库并上传文档可分为以下 `5` 个步骤：

## 1. 创建知识库
点击**创建知识库**，输入名称，描述，选择向量模型，完成初始化创建。
![](/images/kb/kb_create_1.png "")

## 2. 导入文本数据
支持通过拖拽或文件选择器上传本地文档，支持批量上传。上传时需注意以下限制：
- 单个文件大小 ≤ `100 MB`
- 单次批量上传文件数量 ≤ `50` 个

支持格式包括：`PDF`、`Word`、`TXT`、`Markdown`、`HTML` 等常见文本类文件。
![](/images/kb/kb_create_2.png "")

## 3. 配置文件处理策略
上传完成后，系统将对文档进行预处理与结构化，核心包括文本分段和（可选）知识图谱构建。此阶段直接影响后续检索与问答质量。

<Tip>为什么分段很重要？</Tip>

`LLM` 在回答用户问题时，依赖从知识库中召回的相关内容片段。精准的分段能确保系统快速定位到最相关的上下文，避免冗余分析整篇文档，从而：
- 提高回答准确性
- 减少 `Token` 消耗
- 加快响应速度

例如，在智能客服场景中，只需将 `LLM` 引导至产品手册中的关键段落，即可高效生成答案。

**分段方式**（支持多种算法）

|分段模式|适用场景|说明|
|---|---|---|
|**固定长度**|通用纯文本（如日志、说明文档）|按字符或 `Token` 数均匀切分，通用性强|
|**按文件结构**|结构化文档（如技术手册、法律条文、论文）|保留原始标题、章节等层级语义|
|**简单表格**|含二维表格的文档|按行识别并分段，保留表格语义|
|**问答对**|已整理为 `Q&A` 格式的资料|自动识别问题与答案对|

> 所有分段模式均支持配置：
- **分段最大长度**：超过该长度将强制切分（单位：字符或 `Token`）
- **分段重叠长度**：相邻分段之间的重叠部分，建议设为分段长度的 `20%`，以提升上下文连贯性与召回率

**分段模式：父子分块（Parent-Child Chunking）**

系统默认采用**父子分块双层结构**，兼顾**检索精度**与**上下文完整性**：
- **子区块（`Child Chunk`）**：较小单元（如句子），用于**精确匹配**用户查询
- **父区块（`Parent Chunk`）**：较大单元（如段落或章节），提供**完整上下文**

**工作流程：**
1. 用户提问后，系统先在子区块中检索最相关片段；
2. 找到匹配子区块后，自动关联其所属的父区块；
3. 将父区块作为上下文输入 LLM，生成准确且语境完整的回答。

✅**优势示例：**
> 用户问“如何重置密码？”

系统定位到手册中某句“点击‘忘记密码’链接”，同时将包含该句的整个“账户管理”章节作为上下文传给 `LLM`，避免因孤立句子导致误解。

**构建知识图谱**（可选）

在分段基础上，可进一步启用知识图谱抽取功能：
- **实体类型**：指定需从文档中提取的实体类别（如“产品型号”“故障代码”“联系人”等）
- **抽取方法：**
    - **`General`**：通用高精度抽取，效果更好，`Token` 消耗较高
    - **`Light`**：轻量级抽取，适合资源敏感场景，`Token` 消耗低
- **实体归一化**（可选）将语义相同但表述不同的实体（如“北京”、“北京市”、“Beijing”）映射为统一规范名称，消除歧义与冗余。
- **社区报告生成**（可选）对知识图谱中紧密关联的实体子图（称为“社区”）自动生成摘要报告，揭示主题、关键实体及潜在洞察。
>⚠️ 注意：实体归一化与社区报告需额外算力支持，请根据实际需求开启。

### 4. 等待处理完成
系统将在后台完成文档解析、分段、嵌入向量化及（如启用）知识图谱构建。处理进度可在知识库详情页查看。

### 5. 在应用中关联并使用知识库
创建 AI 应用（如对话机器人、智能搜索等）后，在应用设置中绑定已创建的知识库。系统将自动在用户提问时触发 `RAG` 流程，结合知识库内容生成增强型回答。

> 💡 最佳实践提示
1. 初次使用建议先上传少量代表性文档，测试分段效果与问答质量；
2. 对于高价值业务文档，推荐启用“按文件结构”分段 + “父子分块”模式；
3. 定期更新知识库内容，确保 AI 始终基于最新信息响应。


