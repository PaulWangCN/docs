---
title: 语音转文本
icon: "microphone"
---

**节点说明**：`语音转文本` 节点可以将用户上传的音频或视频文件中的语音内容，智能识别并转换为可编辑的文本格式。此节点为处理语音交互、会议记录、媒体内容分析等场景提供了核心能力。

## 核心功能

- **高精度语音识别**：支持对清晰的普通话、英语等多种语言的语音内容进行准确识别。
- **多格式文件支持**：可处理常见的音频格式（如 `MP3`、`WAV`、`M4A`）及包含音轨的视频文件（如 `MP4`）。
- **噪声抑制**：具备一定的环境噪声处理能力，提升嘈杂环境下的识别准确率。

## 参数配置

配置 `语音转文本` 节点时，您需要设置以下参数：

| 参数名 | 类型 | 必填 | 说明 |
| :--- | :--- | :--- | :--- |
| **音频/视频文件** | `File` | 是 | 需要识别的原始音频或视频文件。支持通过文件上传框选择或接收来自上游节点的文件变量（如 `{{用户输入.attachment}}`）。 |
| **识别模型** | `Enum` | 是 | 选择语音识别引擎的模型。通常提供“通用模型”、“会议模型”、“客服模型”等选项，针对不同场景优化识别效果。 |
| **语言** | `Enum` | 否 | 指定音频中的主要语言，如“中文-普通话”、“英语”。若留空或选择“自动检测”，系统将自动判断，但可能影响识别速度与精度。 |
| **时间戳** | `Boolean` | 否 | 是否在输出的文本中为每句话标记其对应的开始时间（单位：秒）。启用后便于后续进行内容定位或字幕生成。 |
| **说话人分离** | `Boolean` | 否 | 是否尝试识别并区分音频中不同的说话人（声道分离或音色区分）。适用于会议、访谈等多说话人场景。 |

## 使用方法

![](/images/components/speech_to_text_1.png "")

1.  **添加节点**：在工作流画布中，从节点库中找到 **`语音转文本`** 节点，将其拖拽到画布上。
2.  **连接输入**：将包含音频文件的变量（例如，来自 **`用户输入`** 节点的 `attachments` 字段）连接到本节点的 **`音频/视频文件`** 输入端口。
3.  **配置参数**：在节点的属性面板中，根据您的音频内容选择合适的 **识别模型** 和 **语言**。若需详细分析，可开启**时间戳**和**说话人分离**功能。
4.  **连接输出**：将本节点的 **`识别文本`** 输出端口连接到后续的处理节点。例如，可以连接到 **`LLM`** 节点进行内容摘要，或连接到 **`知识库检索`** 节点进行信息查询。

## 节点输出

`语音转文本` 节点成功执行后，会提供以下输出变量，供后续节点使用：

| 输出变量名 | 类型 | 说明 |
| :--- | :--- | :--- |
| `text` | `String` | 识别出的完整、连贯的文本内容。这是最常用的输出。 |
| `segments` | `Array<Object>` | 当开启**时间戳**或**说话人分离**时，此变量提供结构化的识别结果。每个数组元素是一个对象，可能包含 `text`（单句文本）、`start`（开始时间）、`speaker`（说话人ID）等字段。 |
| `confidence` | `Number` | 整段音频识别的总体置信度分数（范围通常为0-1），数值越高代表识别结果越可靠。 |
| `language` | `String` | 系统最终识别出的音频语言类型。 |

## 应用示例

**场景：智能会议纪要生成**
1.  用户上传一段 **团队会议录音**（MP3文件）。
2.  文件传入 **`语音转文本`** 节点，选择 **“会议模型”**，语言设置为 **“中文-普通话”**，并开启 **时间戳** 和 **说话人分离**。
3.  节点输出带有时戳和说话人标记的结构化文本 (`segments`)。
4.  将此文本 (`{{语音转文本.segments}}`) 连接至一个 **`LLM`** 节点，并提示其“根据以下会议转录内容，生成包含核心结论与待办事项的纪要”。
5.  `LLM` 节点输出格式化后的会议纪要，完成自动化流程。

## 最佳实践与注意事项

- **音频质量**：为获得最佳识别效果，请尽量提供**背景噪声小、发音清晰**的音频文件。录制时使用靠近声源的麦克风。
- **文件大小与时长**：支持处理常见大小的文件，但过长的音频可能导致处理时间增加。如遇超长音频，可考虑在接入节点前进行分段。
- **领域专有名词**：通用模型对日常用语识别较好。如果您的音频涉及大量**专业术语、产品名或特殊缩写**，识别准确率可能会下降。部分平台可能提供自定义词库功能以优化此问题。
- **结果校验**：对于关键任务，建议在流程中加入人工复核节点，或利用LLM节点对识别文本进行通顺度检查和纠错。

通过 `语音转文本` 节点，您可以轻松地将音频信息转化为可被搜索、分析和处理的文本数据，极大地拓展了智能体处理多模态信息的能力。