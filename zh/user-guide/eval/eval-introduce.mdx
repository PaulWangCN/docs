---
title: "功能介绍"
icon: "pen-field"
---

智能评测功能支持用户批量测试与评估智能体应用的性能与效果。目前应用评测支持两类评测功能：

- **自动评测**：人工评测智能体应用需要手动构建评测集，耗时费力，同时评测结果依赖领域专家的判断，专业但过于主观，难以量化。智能评测系统提供了自动评测功能，利用大模型基于指定应用知识库来自动创建评测集，评估智能体的回答并产出评测报告与调优建议。自动评测支持单应用评测或多应用横向评测。
- **手动测评**：大模型应用手动评测是一种基于应用维度评估应用效果的方法，通过针对特定业务场景来人工构建评测集，并对应用的回答进行人工分析与评分，产出评测报告。

通过应用评测，用户可持续优化智能体应用的表现与体验。

## 功能介绍

### 单应用评测
- **功能**：支持查看应用总体得分及 `BadCase` 分析。
- **选择建议**：聚焦单个智能体或单个版本时优先选择，用于快速定位问题及优化智能体应用

### 多应用评测
- **功能**：支持查看各应用总体得分及 `BadCase`，支持查看各应用的性能差异对比。
- **选择建议**：用于多智能体选型或不同版本横向对比，为应用选型提供决策依据。

<Tip>前提条件</Tip>
1. 自动评测仅面向已发布的智能体应用。
2. 自动评测将基于知识库自动生成评测集，请确保应用已配置创建和使用知识库

## 自动评测
![](/images/eval/eval_1.png "")
自动评测主要包括创建评测任务、生成评测集、设置评测规则、发起评测和分析评测结果。

### 创建评测任务
1. 进入自动评测界面，点击创建评测任务。
![](/images/eval/eval_2.png "")

2. 选择评测应用。
    1. 在选择智能体界面左侧选择用于评测的智能体应用，在右侧勾选对应的版本。多应用横向评测时，最多同时支持`8`个不同智能体应用的横向评测，同一智能体的不同版本被视为不同应用。
    2. 在下方的选择知识库范围界面勾选用于评测的知识库。在下方可以看到已选知识库的数量。
    3. 确认选择无误后，点击下一步。

### 生成评测集
评测集支持**生成评测集**和**选择已有评测集**两种方式，下面主要介绍**生成评测集**。
![](/images/eval/eval_3.png "")
1. 输入评测集名称。
2. 选择任务类型。任务类型是指大模型基于知识库生成评测集时所生成问题的类型，默认存在四种类型：事实型、分析型、比较型、教程型。
3. 选择模型。该模型用于根据知识库内容生成评测任务。
4. 点击生成评测集，在弹出页面确认配置信息。确认无误后，点击继续生成。
5. 等待评测集生成。可以返回自动评测界面查看评测集生成进度。
![](/images/eval/eval_4.png "")

6. 查看评测集。
    1. 评测集生成后，可以在评测集页面查看。点击查看。
    2. 如果对生成的评测集不满意，可以在评测集的详情页面中编辑或删除评测集中已有的数据，也可以导入新的数据。修改完成后，点击页面右上角的发布，即可将评测集发布为新的版本。可以在左侧查看所有历史版本的评测集。
    3. 返回自动评测页面，点击继续配置。
    4. 选择评测集。
    5. 确认评测集内容无误后，点击下一步。

### 设置评测规则
![](/images/eval/eval_5.png "")
1. 选择分类采样数。可以从完整的评测集中随机采样若干条数据用于最终的评测。
2. 选择模型。该模型用于根据评测数据对智能体应用评测与评分。

### 正式评测
1. 点击发起评测任务，确认评测任务无误后，点击开始评测。
2. 发起评测后，可以在自动测评页面查看评测进度。
3. 评测完成后，可以在自动测评页面分别查看评测集生成点击评测报告。

### 分析评测结果
在评测报告中可以查看评测结果数据。点击下载评测结果获取详细评测结果。
1. 单应用评测结果分析。评测得分会展示应用在每一类评测任务上的得分，大模型打分`≥4`分（满分为5分）表示该评测结果正确，大模型打分`<4`分表示该评测结果错误。`BadCase` 列表会展示 `Top-5` 的 错误评测结果，点击查看全部数据可以查看全部错误评测结果。根据错误评测数据，提供相应的调优建议。`RAG` 智能体评价部分展示了应用评测的详细得分情况。
2. 多应用评测结果分析。评测得分展示了各应用在不同评测任务上的得分对比。当参与评测的应用数量`≥5`个时，可以筛选部分应用，聚焦对比。点击应用名即可选中或取消选中。可以查看指定应用的 `BadCase` 分析、调优建议及详细得分情况。

### FAQ
**为什么评测集生成和应用评测的进度长时间保持在0%？**

评测集生成和应用评测均为离线任务，需在后台排队执行，排队期间进度将保持0%。任务开始执行后，进度会自动更新。

**为什么评测报告中的评测任务数量与设置的不符？**

自动评测可能会失败。评测报告只显示成功完成评测的任务数量，失败的任务不计入最终正确率的计算。

## 手动测评

**效果展示**

手动评测通过人工构建评测集，并对应用回答进行人工分析与评分，最终产出评测报告。

### 第一步：准备评测集
需先下载评测集模板，按照模板内容进行补充内容。

<Note>字段说明</Note>

`Prompt`：即提示词，简单的理解为它是给大模型的指令。它可以是一个问题、一段文字描述，甚至可以是带有一堆参数的文字描述。

`Completion`：`Prompt` 对应的内容。可以是答案、一段文字描述。

`SessionId`：会话ID，可以自定义编写。

### 第二步：上传评测集
1. 访问应用评测的测评集页面。
2. 单击创建评测集，自定义评测集名称，上传准备好的评测集文件。说明支持扩展名：`xls`、`xlsx`。
3. 单击确认后，将在测评集页面显示上传的文件。
4. 等待导入状态为导入成功时，单击操作列的发布，发布当前评测集。

### 第三步：创建评测任务
1. 访问手动测评页面，单击创建评测任务。在应用批量评测的下拉列表中选择已发布的智能体应用，单击下一步。说明应用批量评测：应用批量评测需要选择评测集进行评测，适用于应用上线前端到端效果验证。
![](/images/eval/eval_6.png "")

2. 选择已经完成上传并发布的评测集，单击下一步。
![](/images/eval/eval_7.png "")

3. 选择评测维度，单击下一步
![](/images/eval/eval_8.png "")

4. 自定义修改任务名称，查看评测任务的完整信息
![](/images/eval/eval_9.png "")

5. 等待评测状态为标注中时，单击操作列的标注按钮，针对应用生成结果进行打标。对比评测集结果和应用A生成的结果，给出综合评价【较差、一般、较好】，单击保存并下一个。
![](/images/eval/eval_10.png "")

6. 对评测集中的每条数据打标后，单击完成评测并提交，完成应用评测。
![](/images/eval/eval_11.png "")

## 查看评测结果
评测完成后，评测状态显示已完成。单击操作列的结果查看评测结果详情。

![](/images/eval/eval_12.png "")

![](/images/eval/eval_13.png "")